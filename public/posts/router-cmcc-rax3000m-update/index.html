<!doctype html><html lang=en><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=你在世纪大道东门 name=description><link href=/main.css rel=stylesheet><script src=/js/theme-toggle.js></script><script>document.documentElement.classList.toggle('dark-mode', 
            localStorage.getItem('theme') === 'dark' || 
            (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)
        );</script><title>世纪大道</title><link href=/favicon.ico rel=icon type=image/x-icon><script defer src=/js/posts/copy2clipboard.js></script><body><header><nav><a href=https://blog.0pt.icu/atom.xml>/rss</a><a href=https://blog.0pt.icu>/home</a><a href=https://blog.0pt.icu/posts>/posts</a><a href=https://blog.0pt.icu/links>/links</a><a href=https://blog.0pt.icu/about>/about</a></nav><div class=theme-toggle-container><input aria-label=theme-toggle class=checkbox id=checkbox type=checkbox><label class=checkbox-label for=checkbox><span class=ball></span></label></div></header><div><h1>升级cmcc rax3000m emmc路由器,刷入ImmortWrt24.10.2</h1><span>2025-07-23</span><div class=toc><ul><li><a href=https://blog.0pt.icu/posts/router-cmcc-rax3000m-update/#sheng-ji-cmcc-rax3000m-emmclu-you-qi-shua-ru-immortwrt24-10-2>升级cmcc rax3000m emmc路由器,刷入ImmortWrt24.10.2</a> <ul><li><a href=https://blog.0pt.icu/posts/router-cmcc-rax3000m-update/#yin>引</a><li><a href=https://blog.0pt.icu/posts/router-cmcc-rax3000m-update/#zhun-bei>准备</a><li><a href=https://blog.0pt.icu/posts/router-cmcc-rax3000m-update/#shua-uboot>刷uboot</a><li><a href=https://blog.0pt.icu/posts/router-cmcc-rax3000m-update/#shua-gu-jian>刷固件</a><li><a href=https://blog.0pt.icu/posts/router-cmcc-rax3000m-update/#shua-xie-hou-jin-ru-ubootye-mian>刷写后进入uboot页面</a></ul></ul></div><div class=post-content><h1 id=sheng-ji-cmcc-rax3000m-emmclu-you-qi-shua-ru-immortwrt24-10-2>升级cmcc rax3000m emmc路由器,刷入ImmortWrt24.10.2</h1><h2 id=yin>引</h2><p>去年偶得一个cmcc rax3000m emmc路由器，为<code>immortalwrt21</code>，使用<a href=https://github.com/AngelaCooljx/Actions-rax3000m-emmc>该固件</a>，近来只觉十分陈旧，遂萌生刷写新固件之意。<h2 id=zhun-bei>准备</h2><blockquote><p>之前使用的是<a href=https://cmi.hanwckf.top/p/mt798x-uboot-usage/>hanwckf大佬的uboot</a>。 由于该的uboot不支持新的itb文件，所以需重新刷入一个uboot。 这里使用<a href=https://www.right.com.cn/forum/thread-8400306-1-1.html>1715173329大佬的uboot</a>，有web界面的uboot和自动dhcp,使用起来更方便。</blockquote><p>下载：<ul><li><a href=https://downloads.openwrt.org/releases/24.10.2/targets/mediatek/filogic/openwrt-24.10.2-mediatek-filogic-cmcc_rax3000m-emmc-gpt.bin>openwrt主线gpt</a><li><a href=https://downloads.openwrt.org/releases/24.10.2/targets/mediatek/filogic/openwrt-24.10.2-mediatek-filogic-cmcc_rax3000m-emmc-preloader.bin>openwrt主线bl2</a><li><a href=https://drive.wrt.moe/uboot/mediatek/mt7981-cmcc_rax3000m-emmc-fip-fit.bin>1715173329大佬的uboot文件</a></ul><p>然后将这些文件通过scp或者其他方式上传到路由器的<code>/tmp</code>目录下面。<h2 id=shua-uboot>刷uboot</h2><p>先ssh连接到路由器,我的路由器ip是192.168.6.1。<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>ssh</span><span> root@192.168.6.1
</span></code></pre><p>在路由器那边执行<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e># 刷入官方gpt
</span><span style=color:#bf616a>dd</span><span> if=openwrt-24.10.2-mediatek-filogic-cmcc_rax3000m-emmc-gpt.bin of=/dev/mmcblk0 bs=512 seek=0 count=34 conv=fsync
</span><span>
</span><span style=color:#96b5b4>echo</span><span> 0 > /sys/block/mmcblk0boot0/force_ro
</span><span>
</span><span style=color:#bf616a>dd</span><span> if=/dev/zero of=/dev/mmcblk0boot0 bs=512 count=8192 conv=fsync
</span><span style=color:#65737e># 刷入官方bl2
</span><span style=color:#bf616a>dd</span><span> if=openwrt-24.10.2-mediatek-filogic-cmcc_rax3000m-emmc-preloader.bin of=/dev/mmcblk0boot0 bs=512 conv=fsync
</span><span>
</span><span style=color:#bf616a>dd</span><span> if=/dev/zero of=/dev/mmcblk0 bs=512 seek=13312 count=8192 conv=fsync
</span><span style=color:#65737e># 刷入1715173329大大的改版 U-Boot
</span><span style=color:#bf616a>dd</span><span> if=mt7981-cmcc_rax3000m-emmc-fip-fit.bin of=/dev/mmcblk0 bs=512 seek=13312 conv=fsync
</span></code></pre><blockquote><p>这一步比较关键，如果出错，不要断开ssh，反复检查一下，不然就爆炸了。</blockquote><p>然后重启路由器。<h2 id=shua-gu-jian>刷固件</h2><p>重启路由器后，应该会直接进入uboot。需要一根网线，一端接路由器lan口，另一端接电脑。<p>uboot自带dhcp,自带给你电脑设置完ip了，直接输入<code>http://192.168.1.1</code>访问uboot网页界面。<p>首先需要刷入一个recovery。<p>以官方固件为例，也可自行寻找固件。<p>下载recovery固件https://downloads.immortalwrt.org/releases/24.10.2/targets/mediatek/filogic/immortalwrt-24.10.2-mediatek-filogic-cmcc_rax3000m-initramfs-recovery.itb<p>然后在<code>http://192.168.1.1</code>uboot网页界面，上传该固件并刷写。<p>等待一会，直到看到路由器红灯闪烁后变绿，就是刷写完成，已经进入recovery了，接着需要在recovery中刷入squashfs-sysupgrade.itb。<p>下载squashfs-sysupgrade.itb固件https://downloads.immortalwrt.org/releases/24.10.2/targets/mediatek/filogic/immortalwrt-24.10.2-mediatek-filogic-cmcc_rax3000me-squashfs-sysupgrade.itb<p>使用scp或者其他方式上传到路由器的<code>/tmp</code>目录下面。<p>ssh再次连接路由器。<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e># 官方固件的路由器默认ip为192.168.1.1
</span><span style=color:#bf616a>ssh</span><span> root@192.168.1.1
</span></code></pre><p>在路由器执行<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#bf616a>sysupgrade -n -F</span><span> /tmp/immortalwrt-24.10.2-mediatek-filogic-cmcc_rax3000me-squashfs-sysupgrade.itb
</span></code></pre><p>等待一会，直到看到路由器红灯闪烁后变绿，就是刷写完成，此时已经正式刷写完成。<h2 id=shua-xie-hou-jin-ru-ubootye-mian>刷写后进入uboot页面</h2><p>如果刷写后还想进入uboot页面以刷写其他recovery，需要先将路由器断电，然后找一个牙签或者小螺丝刀或其他什么东西，将路由器的reset孔里面的按钮捅住。然后给路由器接电，直到看到路由器红灯亮起，才可以松手，不再按住reset孔里面的按钮。此时红灯应该是常亮而不会闪烁，说明进入uboot。<p>插上网线，输入<code>http://192.168.1.1</code>即可访问uboot网页界面。</div></div><script type=module>import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
            mermaid.initialize({ theme: 'neutral',});</script>